from scipy.optimize import linprog

# Коэффициенты целевой функции (минимизируем -Z)
c = [-63.2, -54.4, -48.3, -42.1, -36.5, -24.3, -18.7, -30.5, -24.8]

# Коэффициенты ограничений (левая часть)
A = [
    [1.1, 1.1, 1.1, 1.1, 2.3, 2.3, 2.3, 1.3, 1.3],  # Труд ИТР
    [12.3, 12.3, 12.3, 12.3, 4.2, 4.2, 4.2, 5.1, 5.1],  # Физический труд
    [3.1, 3.1, 3.1, 3.1, 2.4, 2.4, 2.4, 1.2, 1.2],  # Сырье
    [1, 0, 0, 0, 0, 0, 0, 0, 0],  # x_A1 <= 40
    [0, 1, 0, 0, 0, 0, 0, 0, 0],  # x_A2 <= 60
    [0, 0, 1, 0, 0, 0, 0, 0, 0],  # x_A3 <= 50
    [0, 0, 0, 1, 0, 0, 0, 0, 0],  # x_A4 >= 0
    [0, 0, 0, 0, 1, 0, 0, 0, 0],  # x_B1 <= 50
    [0, 0, 0, 0, 0, 1, 0, 0, 0],  # x_B2 <= 50
    [0, 0, 0, 0, 0, 0, 1, 0, 0],  # x_B3 >= 0
    [0, 0, 0, 0, 0, 0, 0, 1, 0],  # x_C1 <= 100
    [0, 0, 0, 0, 0, 0, 0, 0, 1],  # x_C2 >= 0
]

# Правая часть ограничений
b = [120, 640, 450, 40, 60, 50, 0, 50, 50, 0, 100, 0]

# Границы переменных (x >= 0)
x_bounds = [(0, None)] * 9

# Решение задачи линейного программирования
result = linprog(c, A_ub=A, b_ub=b, bounds=x_bounds, method='interior-point')

# Вывод результатов
if result.success:
    print("Оптимальный план:")
    print(f"x_A1 = {result.x[0]:.2f}, x_A2 = {result.x[1]:.2f}, x_A3 = {result.x[2]:.2f}, x_A4 = {result.x[3]:.2f}")
    print(f"x_B1 = {result.x[4]:.2f}, x_B2 = {result.x[5]:.2f}, x_B3 = {result.x[6]:.2f}")
    print(f"x_C1 = {result.x[7]:.2f}, x_C2 = {result.x[8]:.2f}")
    print(f"Максимальная прибыль: {-result.fun:.2f} руб.")
else:
    print("Оптимизация не удалась.")